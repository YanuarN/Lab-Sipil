import{S as i}from"./sweetalert2.esm.all-B0Dix5B2.js";document.addEventListener("DOMContentLoaded",function(){const l=document.querySelectorAll(".pengujian-checkbox"),n=document.querySelectorAll(".jumlah-input"),u=document.querySelectorAll(".subtotal"),m=document.getElementById("total-harga"),d=document.getElementById("submitBtn"),g=document.getElementById("bookingForm");function f(e){return"Rp "+e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}function r(){let e=0;return l.forEach((t,o)=>{const s=parseInt(t.dataset.harga)||0,c=parseInt(n[o].value)||0;if(t.checked){const a=s*c;u[o].textContent=f(a),e+=a}else u[o].textContent="Rp 0"}),m.textContent=f(e),e}function h(){l.forEach((e,t)=>{n[t].disabled=!e.checked,e.checked?n[t].value=1:n[t].value=0}),r()}l.forEach((e,t)=>{e.addEventListener("change",function(){n[t].disabled=!this.checked,this.checked?n[t].value=1:n[t].value=0,r()})}),n.forEach((e,t)=>{e.addEventListener("input",function(){l[t].checked&&parseInt(this.value)<1&&(this.value=1),r()})}),d&&d.addEventListener("click",function(e){e.preventDefault();let t=!1;if(r(),l.forEach(a=>{a.checked&&(t=!0)}),!t){i.fire({title:"Perhatian!",text:"Silakan pilih minimal satu jenis pengujian",icon:"warning",confirmButtonColor:"#EAB308",confirmButtonText:"OK"});return}const o=document.getElementById("nama_instansi").value,s=document.getElementById("nama_proyek").value,c=document.getElementById("tanggal_tes").value;if(!o||!s||!c){i.fire({title:"Data Tidak Lengkap",text:"Mohon lengkapi semua data booking yang diperlukan",icon:"error",confirmButtonColor:"#EAB308",confirmButtonText:"OK"});return}i.fire({title:"Konfirmasi Reservasi",html:`
                    <div class="text-left">
                        <p><strong>Instansi:</strong> ${o}</p>
                        <p><strong>Proyek:</strong> ${s}</p>
                        <p><strong>Tanggal Tes:</strong> ${c}</p>
                        <p><strong>Total Biaya:</strong> ${m.textContent}</p>
                    </div>
                    <p class="mt-4">Apakah Anda yakin ingin melanjutkan reservasi?</p>
                `,icon:"question",showCancelButton:!0,confirmButtonColor:"#EAB308",cancelButtonColor:"#78716c",confirmButtonText:"Ya, Lanjutkan",cancelButtonText:"Batal"}).then(a=>{a.isConfirmed&&(i.fire({title:"Memproses...",html:"Mohon tunggu sebentar",allowOutsideClick:!1,didOpen:()=>{i.showLoading()}}),g.submit(),i.fire({title:"Booking Berhasil!",text:"Silahkan datang ke laboratorium sesuai jadwal yang telah ditentukan",icon:"success",confirmButtonColor:"#EAB308",confirmButtonText:"OK",allowOutsideClick:!1,showConfirmButton:!0}).then(p=>{p.isConfirmed&&window.location.reload()}))})}),h()});
